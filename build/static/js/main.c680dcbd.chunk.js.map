{"version":3,"sources":["components/Header.js","auth/index.js","components/UserPosts.js","components/UserTodos.js","api/index.js","index.js"],"names":["Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","console","log","className","onSubmit","event","preventDefault","to","activeClassName","onClick","localStorage","removeItem","username","onChange","id","target","value","user","find","map","key","setItem","JSON","stringify","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","BASE","axios","get","data","userId","App","setUserList","parse","getItem","setUserPosts","setUserTodos","getUsers","then","users","catch","error","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c680dcbd.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {storeCurrentUser,clearCurrentUser} from '../auth';\nimport './Header.css';\n\nconst Header = ({\n  currentUser,\n  setCurrentUser,\n  userList \n}) => {\n  const [selectedUser, setSelectedUser] = useState();\n\n  useEffect(() => {\n    setSelectedUser(userList[0]);\n  }, [userList]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n  }\n\n  const handleSelectChange = (event) => {\n    const id = event.target.value;\n    const user = userList.find(user => user.id == id);\n    setSelectedUser(user);\n  }\n\n  const handleUserLogin = (event) => {\n    console.log (\"Hello\")\n    storeCurrentUser(selectedUser);\n    setCurrentUser(selectedUser);\n  }\n\n  const handleUserLogout = (event) => {\n    setSelectedUser(userList[0]);\n    clearCurrentUser();\n    setCurrentUser(null);\n  }\n  console.log ('hi', currentUser)\n  return (\n    <header>\n      <h1>Welcome to UserHub</h1>\n      <form \n        className=\"user-select\" \n        onSubmit={ handleSubmit } >\n        {\n          currentUser\n          ? <> \n              <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n              <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink >\n              <button onClick={ handleUserLogout }>LOG OUT, { currentUser.username }</button>\n          </>\n          : <>\n              <select onChange={ handleSelectChange }>{\n                userList.map(user => (\n                  <option key={ user.id } value={ user.id }>\n                    { user.username }\n                  </option>\n                ))\n              }</select>\n              <button onClick={ handleUserLogin }>LOG IN</button>\n            </>\n        }\n      </form>\n    </header>\n  );\n}\n\nexport default Header;","export function storeCurrentUser(user) {\n    localStorage.setItem('currentUser', JSON.stringify(user));\n  }\n  \n  export function getCurrentUser() {\n    const user = JSON.parse(localStorage.getItem('currentUser'));\n    return user;\n  }\n  \n  export function clearCurrentUser() {\n    localStorage.removeItem('currentUser');\n  }","import React from 'react';\n\nimport './UserPosts.css';\n\nconst UserPosts = ({\n  currentUser,\n  userPosts\n}) => {\n  return (\n    <div className=\"user-posts\">\n      <h2>Posts By { currentUser.username }</h2>\n      {userPosts.map(({ id, title, body}) => (\n        <div key={ id } className=\"post\">\n          <h3>{ title }</h3>\n          <p>{ body }</p>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default UserPosts;","import React from 'react';\n\nimport './UserTodos.css';\n\nconst UserTodos = ({\n  currentUser,\n  userTodos\n}) => {\n  return (\n    <div className=\"user-todos\">\n      <h2>Todos By { currentUser.username }</h2>\n      {userTodos.map(({ id, title, completed }) => (\n        <div key={ id } className=\"todo\">\n          <h3 style={{\n            textDecoration: completed ? 'line-through' : 'none'\n          }}>{ title }</h3>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default UserTodos;","import axios from 'axios';\n\nconst BASE = 'https://jsonplace-univclone.herokuapp.com'\n\nexport async function getUsers() {\n  try {\n    const { data } = await axios.get(`${ BASE }/users`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getPostsByUser(userId) {\n  try {\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/posts`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getTodosByUser(userId) {\n  try {\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/todos`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport {Header, UserPosts, UserTodos} from './components';\nimport { getUsers, getPostsByUser, getTodosByUser } from './api'\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport {getCurrentUser} from './auth';\n\nconst App = () => {\nconst [userList, setUserList] = useState([]);\nconst [currentUser, setCurrentUser] = useState(getCurrentUser()); \nconst [userPosts, setUserPosts] = useState([]);\nconst [userTodos, setUserTodos] = useState([]);\n\n\nuseEffect(() => {\n    getUsers()\n      .then(users => {\n        setUserList(users)\n      })\n      .catch(error => {\n        // something something errors\n      });\n  }, []);\n\n  useEffect(() => {\n    if (!currentUser) {\n      setUserPosts([]);\n      setUserTodos([]);\n      return;\n    }\n\n    getPostsByUser(currentUser.id)\n      .then(posts => {\n        setUserPosts(posts);\n      })\n      .catch(error => {\n        // something something errors\n      });\n      getTodosByUser(currentUser.id)\n      .then(todos => {\n        setUserTodos(todos);\n      })\n      .catch(error => {\n        // something something errors\n      });\n  }, [currentUser]);\n\n  return (\n    <Router>\n    <div id=\"App\">\n      <Header\n        userList={ userList }\n        currentUser={ currentUser }\n        setCurrentUser={ setCurrentUser } />\n      {\n        currentUser\n        ? \n        <>\n       <Switch>\n                <Route path=\"/posts\">\n                  <UserPosts\n                    userPosts={ userPosts }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route path=\"/todos\">\n                  <UserTodos\n                    userTodos={ userTodos }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Welcome, { currentUser.username }!</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n              </>\n              :<>\n               <Switch>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Please log in, above.</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n              </>\n             }\n    </div>\n    </Router>\n    )\n  }\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n\n\n\n"],"sourceRoot":""}